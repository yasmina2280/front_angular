<div class="login-wrapper">
  <div class="loginbox">
    <div class="w-100">
      <div class="img-logo">
        <img src="/assets/img/logo15.png" class="img-fluid" alt="Logo">
        <div class="back-home">
          <a routerLink="/accueil">Retour à l'accueil</a>
        </div>
      </div>
      <h1>Créer un compte</h1>

      <form [formGroup]="myForm" (ngSubmit)="onRegister()">
        <div class="input-block">
          <label class="form-control-label">Nom d'utilisateur</label>
          <input
            type="text"
            class="form-control"
            placeholder="Entrez votre nom d'utilisateur"
            formControlName="username"
          />
          <div *ngIf="myForm.get('username')?.invalid && myForm.get('username')?.touched" class="text-danger">
            Nom d'utilisateur requis
          </div>
        </div>

        <div class="input-block">
          <label class="form-control-label">Email</label>
          <input
            type="email"
            class="form-control"
            placeholder="Entrez votre email"
            formControlName="email"
          />
          <div *ngIf="myForm.get('email')?.invalid && myForm.get('email')?.touched" class="text-danger">
            Email invalide
          </div>
        </div>

        <div class="input-block">
          <label class="form-control-label">Mot de passe</label>
          <div class="pass-group">
            <input
              type="password"
              class="form-control pass-input"
              placeholder="Créez un mot de passe"
              formControlName="password"
            />
            <span class="feather-eye toggle-password"></span>
          </div>
          <div *ngIf="myForm.get('password')?.invalid && myForm.get('password')?.touched" class="text-danger">
            Minimum 6 caractères requis
          </div>
        </div>

        <div class="input-block">
          <label class="form-control-label">Confirmer le mot de passe</label>
          <div class="pass-group">
            <input
              type="password"
              class="form-control pass-input"
              placeholder="Confirmez votre mot de passe"
              formControlName="confirmPassword"
            />
            <span class="feather-eye toggle-password"></span>
          </div>
          <div *ngIf="myForm.get('confirmPassword')?.errors?.['mustMatch']" class="text-danger">
            Les mots de passe ne correspondent pas
          </div>
        </div>

        <div *ngIf="err" class="alert alert-danger mt-2">
          {{ err }}
        </div>

        <div class="remember-me">
          <label class="custom_check mr-2 mb-0 d-inline-flex remember-me">
            J'accepte les conditions d'utilisation
            <input type="checkbox" formControlName="terms" />
            <span class="checkmark"></span>
          </label>
          <div *ngIf="myForm.get('terms')?.invalid && myForm.get('terms')?.touched" class="text-danger">
            Vous devez accepter les conditions
          </div>
        </div>

        <div class="d-grid">
          <button
            class="btn btn-primary btn-start"
            type="submit"
            [disabled]="myForm.invalid || loading"
          >
            <span *ngIf="!loading">S'inscrire</span>
            <span *ngIf="loading">En cours...</span>
          </button>
        </div>
      </form>
    </div>
  </div>

  <div class="google-bg text-center mt-4">
    <span><a>Ou s'inscrire avec</a></span>
    <div class="sign-google">
      <ul>
        <li>
          <a href="#">
            <img src="/assets/img/net-icon-01.png" class="img-fluid" alt="Google Logo" />
            Google
          </a>
        </li>
        <li>
          <a href="#">
            <img src="/assets/img/net-icon-02.png" class="img-fluid" alt="Facebook Logo" />
            Facebook
          </a>
        </li>
      </ul>
    </div>
    <p class="mb-0 mt-3">Déjà un compte ? <a routerLink="/login">Se connecter</a></p>
  </div>
</div>